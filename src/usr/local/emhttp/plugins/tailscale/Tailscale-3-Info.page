Menu="Tailscale"
Icon="tailscale.png"
Title="Info"
Tag="info"
Type="xmenu"
---
<?php
$tailscaleConfig = $tailscaleConfig ?? new Tailscale\Config();
$tr = $tr ?? new Tailscale\Translator();

if ($tailscaleConfig->Enable) {
    if(!isset($tailscaleInfo)) {
        echo("Tailscale output not defined");
        return;
    }
?>
<table class="share_status">
    <thead>
        <tr>
            <td><?= $tr->tr('status') ?></td>
            <td>&nbsp;</td>
        </tr>
    </thead>
    <tbody>
        <?= $tailscaleInfo->getStatusInfo(); ?>
    </tbody>
    <thead>
        <tr>
            <td><?= $tr->tr('connection') ?></td>
            <td>&nbsp;</td>
        </tr>
    </thead>
    <tbody>
        <?= $tailscaleInfo->getConnectionInfo(); ?>
    </tbody>
</table>
<?php 
} else { 
    echo($tr->tr("tailscale_disabled"));
} 
?>